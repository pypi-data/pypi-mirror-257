!function(){"use strict";function t(t){return t.replace(/(?:[_-])([a-z0-9])/g,((t,e)=>e.toUpperCase()))}function e(t){return t.charAt(0).toUpperCase()+t.slice(1)}function r(t,e){const r=o(t);return Array.from(r.reduce(((t,r)=>(function(t,e){const r=t[e];return Array.isArray(r)?r:[]}(r,e).forEach((e=>t.add(e))),t)),new Set))}function n(t,e){return o(t).reduce(((t,r)=>(t.push(...function(t,e){const r=t[e];return r?Object.keys(r).map((t=>[t,r[t]])):[]}(r,e)),t)),[])}function o(t){const e=[];for(;t;)e.push(t),t=Object.getPrototypeOf(t);return e.reverse()}function i(t){return t.reduce(((t,[e,r])=>Object.assign(Object.assign({},t),{[e]:r})),{})}function s([e,r],n){return function(e){const r=`${o=e.token,o.replace(/([A-Z])/g,((t,e)=>`-${e.toLowerCase()}`))}-value`,n=function(t){const e=function(t){const e=a(t.typeObject.type);if(!e)return;const r=u(t.typeObject.default);if(e!==r){const n=t.controller?`${t.controller}.${t.token}`:t.token;throw new Error(`The specified default value for the Stimulus Value "${n}" must match the defined type "${e}". The provided default value of "${t.typeObject.default}" is of type "${r}".`)}return e}({controller:t.controller,token:t.token,typeObject:t.typeDefinition}),r=u(t.typeDefinition),n=a(t.typeDefinition),o=e||r||n;if(o)return o;const i=t.controller?`${t.controller}.${t.typeDefinition}`:t.token;throw new Error(`Unknown value type "${i}" for "${t.token}" value`)}(e);var o;return{type:n,key:r,name:t(r),get defaultValue(){return function(t){const e=a(t);if(e)return c[e];const r=t.default;return void 0!==r?r:t}(e.typeDefinition)},get hasCustomDefaultValue(){return void 0!==u(e.typeDefinition)},reader:l[n],writer:f[n]||f.default}}({controller:n,token:e,typeDefinition:r})}function a(t){switch(t){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function u(t){switch(typeof t){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}return Array.isArray(t)?"array":"[object Object]"===Object.prototype.toString.call(t)?"object":void 0}(()=>{function t(t){function e(){return Reflect.construct(t,arguments,new.target)}return e.prototype=Object.create(t.prototype,{constructor:{value:e}}),Reflect.setPrototypeOf(e,t),e}try{return function(){const e=t((function(){this.a.call(this)}));e.prototype.a=function(){},new e}(),t}catch(t){return t=>class extends t{}}})(),Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End"},i("abcdefghijklmnopqrstuvwxyz".split("").map((t=>[t,t])))),i("0123456789".split("").map((t=>[t,t]))));const c={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},l={array(t){const e=JSON.parse(t);if(!Array.isArray(e))throw new TypeError(`expected value of type "array" but instead got value "${t}" of type "${u(e)}"`);return e},boolean:t=>!("0"==t||"false"==String(t).toLowerCase()),number:t=>Number(t),object(t){const e=JSON.parse(t);if(null===e||"object"!=typeof e||Array.isArray(e))throw new TypeError(`expected value of type "object" but instead got value "${t}" of type "${u(e)}"`);return e},string:t=>t},f={default:function(t){return`${t}`},array:d,object:d};function d(t){return JSON.stringify(t)}class p{constructor(t){this.context=t}static get shouldLoad(){return!0}static afterLoad(t,e){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(t,{target:e=this.element,detail:r={},prefix:n=this.identifier,bubbles:o=!0,cancelable:i=!0}={}){const s=new CustomEvent(n?`${n}:${t}`:t,{detail:r,bubbles:o,cancelable:i});return e.dispatchEvent(s),s}}p.blessings=[function(t){return r(t,"classes").reduce(((t,r)=>{return Object.assign(t,{[`${n=r}Class`]:{get(){const{classes:t}=this;if(t.has(n))return t.get(n);{const e=t.getAttributeName(n);throw new Error(`Missing attribute "${e}"`)}}},[`${n}Classes`]:{get(){return this.classes.getAll(n)}},[`has${e(n)}Class`]:{get(){return this.classes.has(n)}}});var n}),{})},function(t){return r(t,"targets").reduce(((t,r)=>{return Object.assign(t,{[`${n=r}Target`]:{get(){const t=this.targets.find(n);if(t)return t;throw new Error(`Missing target element "${n}" for "${this.identifier}" controller`)}},[`${n}Targets`]:{get(){return this.targets.findAll(n)}},[`has${e(n)}Target`]:{get(){return this.targets.has(n)}}});var n}),{})},function(t){const r=n(t,"values"),o={valueDescriptorMap:{get(){return r.reduce(((t,e)=>{const r=s(e,this.identifier),n=this.data.getAttributeNameForKey(r.key);return Object.assign(t,{[n]:r})}),{})}}};return r.reduce(((t,r)=>Object.assign(t,function(t,r){const n=s(t,r),{key:o,name:i,reader:a,writer:u}=n;return{[i]:{get(){const t=this.data.get(o);return null!==t?a(t):n.defaultValue},set(t){void 0===t?this.data.delete(o):this.data.set(o,u(t))}},[`has${e(i)}`]:{get(){return this.data.has(o)||n.hasCustomDefaultValue}}}}(r))),o)},function(n){return r(n,"outlets").reduce(((r,n)=>Object.assign(r,function(r){const n=(o=r,t(o.replace(/--/g,"-").replace(/__/g,"_")));var o;return{[`${n}Outlet`]:{get(){const t=this.outlets.find(r);if(t){const e=this.application.getControllerForElementAndIdentifier(t,r);if(e)return e;throw new Error(`Missing "data-controller=${r}" attribute on outlet element for "${this.identifier}" controller`)}throw new Error(`Missing outlet element "${r}" for "${this.identifier}" controller`)}},[`${n}Outlets`]:{get(){const t=this.outlets.findAll(r);return t.length>0?t.map((t=>{const e=this.application.getControllerForElementAndIdentifier(t,r);if(e)return e;console.warn(`The provided outlet element is missing the outlet controller "${r}" for "${this.identifier}"`,t)})).filter((t=>t)):[]}},[`${n}OutletElement`]:{get(){const t=this.outlets.find(r);if(t)return t;throw new Error(`Missing outlet element "${r}" for "${this.identifier}" controller`)}},[`${n}OutletElements`]:{get(){return this.outlets.findAll(r)}},[`has${e(n)}Outlet`]:{get(){return this.outlets.has(r)}}}}(n))),{})}],p.targets=[],p.outlets=[],p.values={};class g extends p{inputTargetConnected(t){var e;const r=null===(e=t.attributes.getNamedItem("value"))||void 0===e?void 0:e.value;r&&this.retrieve({params:{url:r}})}retrieve(t){let e,{target:r,params:n}=t;if(this.isSoundValidTarget.value="0",n.url?e=n.url:r&&(e=r.files?URL.createObjectURL(r.files[0]):r.value),!e)throw this.durationInputTarget.value="",new Error("Unable to get the sound URL from ".concat(r));const o=new Audio;o.preload="metadata",o.addEventListener("error",(()=>{this.durationInputTarget.value=""})),o.addEventListener("loadedmetadata",(()=>{var t;this.durationInputTarget.value=o.duration===1/0?"":(t=o.duration,new Date(1e3*t).toISOString().substr(11,8)),this.isSoundValidTarget.value="1"})),o.src=e}}var h,b,y;if(h=g,y=["durationInput","input","isSoundValid"],(b=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(b="targets"))in h?Object.defineProperty(h,b,{value:y,enumerable:!0,configurable:!0,writable:!0}):h[b]=y,!window.Stimulus)throw new Error("You must instantiate a Stimulus application at first.");window.Stimulus.register("podcast-form",g)}();
//# sourceMappingURL=podcast-form_controllers.js.map
