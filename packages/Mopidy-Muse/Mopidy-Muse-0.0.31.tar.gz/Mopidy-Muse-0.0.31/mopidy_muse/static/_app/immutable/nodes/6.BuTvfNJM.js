import{H as gt,g as vt}from"../chunks/entry.BzHGXjOp.js";import{N as kt,R as yt,m as rt,F as Y,a7 as bt,a8 as $t,f as nt,a as wt,b as ot,D as it,T as Ye,U as Ge,V as We,g as ct,h as ut,n as ft,P as Et,e as Xe,w as Pt,E as Dt,i as Tt,j as Ze,k as xe,l as et}from"../chunks/mopidyTools.DZb--U8M.js";import{f as At,c as Ct,a as It}from"../chunks/index.Bunrjxgc.js";import{h as Oe,u as dt}from"../chunks/await_block.B2YmWegA.js";import{S as mt,i as pt,e as p,m as O,c as _,a as h,d,p as R,q as Ve,r as o,y as he,f as q,g as f,u as C,w as L,t as x,x as U,b as ee,z as H,s as Re,j as b,k as Ee,l as k,A as M,n as ge,h as Pe,B as Vt,J as Nt}from"../chunks/index.CHJ8_cIq.js";import{s as _t,j as ne,n as G,r as Be,c as ht,h as St}from"../chunks/scheduler.DI5uFTER.js";import{c as jt}from"../chunks/clickOutside.BxFJ2b6i.js";import{b as qt}from"../chunks/paths.D-1DefeX.js";function Ot(r,e){throw new gt(r,e)}new TextEncoder;const Rt=async r=>{const t=(await kt()).find(s=>s.name===r);return{playlistsTracks:await yt(t.uri),selectedPlaylist:t}};async function Bt({params:r}){const e=await Rt(r.slug);if(r.slug==="Small")return{playlistsTracks:e.playlistsTracks,selectedPlaylist:e.selectedPlaylist,slug:r.slug};Ot(404,"Page not found")}const ml=Object.freeze(Object.defineProperty({__proto__:null,load:Bt},Symbol.toStringTag,{value:"Module"}));function Lt(r){let e,t,l,s,a,i,m="Delete playlist",n,c,u="Yes",A,$,B,z;return{c(){e=p("div"),t=p("div"),l=O(),s=p("div"),a=p("div"),i=p("p"),i.textContent=m,n=O(),c=p("button"),c.textContent=u,A=O(),$=p("button"),this.h()},l(w){e=_(w,"DIV",{class:!0});var y=h(e);t=_(y,"DIV",{class:!0,role:!0,tabindex:!0}),h(t).forEach(d),l=R(y),s=_(y,"DIV",{class:!0});var j=h(s);a=_(j,"DIV",{class:!0});var Z=h(a);i=_(Z,"P",{class:!0,"data-svelte-h":!0}),Ve(i)!=="svelte-1yj16o2"&&(i.textContent=m),n=R(Z),c=_(Z,"BUTTON",{class:!0,"data-svelte-h":!0}),Ve(c)!=="svelte-13a00of"&&(c.textContent=u),Z.forEach(d),j.forEach(d),A=R(y),$=_(y,"BUTTON",{class:!0,"aria-label":!0}),h($).forEach(d),y.forEach(d),this.h()},h(){o(t,"class","modal-background svelte-sak310"),o(t,"role","button"),o(t,"tabindex","0"),o(i,"class","title"),o(c,"class","button"),o(a,"class","modal-card-body has-text-centered svelte-sak310"),o(s,"class","modal-card svelte-sak310"),o($,"class","modal-close is-large svelte-sak310"),o($,"aria-label","close"),o(e,"class","modal svelte-sak310"),he(e,"is-active",r[0])},m(w,y){q(w,e,y),f(e,t),f(e,l),f(e,s),f(s,a),f(a,i),f(a,n),f(a,c),f(e,A),f(e,$),B||(z=[C(t,"click",r[3]),C(t,"keypress",r[4]),C(c,"click",function(){ne(r[2](r[1].uri))&&r[2](r[1].uri).apply(this,arguments)}),C($,"click",r[5])],B=!0)},p(w,[y]){r=w,y&1&&he(e,"is-active",r[0])},i:G,o:G,d(w){w&&d(e),B=!1,Be(z)}}}function Ut(r,e,t){let l;ht(r,rt,u=>t(6,l=u));let{deletePlaylistConfirmation:s}=e,{selectedPlaylist:a}=e;const i=async u=>{await l.playlists.delete({uri:u})?(t(0,s=!s),setTimeout(()=>{vt("playlists")},1e3)):console.log("Error: no laylist remove")},m=()=>t(0,s=!s),n=()=>t(0,s=!s),c=()=>t(0,s=!s);return r.$$set=u=>{"deletePlaylistConfirmation"in u&&t(0,s=u.deletePlaylistConfirmation),"selectedPlaylist"in u&&t(1,a=u.selectedPlaylist)},[s,a,i,m,n,c]}class Ht extends mt{constructor(e){super(),pt(this,e,Ut,Lt,_t,{deletePlaylistConfirmation:0,selectedPlaylist:1})}}function tt(r,e,t){const l=r.slice();return l[23]=e[t],l[25]=t,l}function Mt(r){let e,t,l;return t=new Y({props:{icon:ct,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}}),{c(){e=p("a"),L(t.$$.fragment),this.h()},l(s){e=_(s,"A",{href:!0,class:!0});var a=h(e);U(t.$$.fragment,a),a.forEach(d),this.h()},h(){o(e,"href",null),o(e,"class","button")},m(s,a){q(s,e,a),H(t,e,null),l=!0},i(s){l||(k(t.$$.fragment,s),l=!0)},o(s){b(t.$$.fragment,s),l=!1},d(s){s&&d(e),M(t)}}}function zt(r){let e,t,l;return t=new Y({props:{icon:ut,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}}),{c(){e=p("a"),L(t.$$.fragment),this.h()},l(s){e=_(s,"A",{href:!0,class:!0});var a=h(e);U(t.$$.fragment,a),a.forEach(d),this.h()},h(){o(e,"href",null),o(e,"class","button")},m(s,a){q(s,e,a),H(t,e,null),l=!0},i(s){l||(k(t.$$.fragment,s),l=!0)},o(s){b(t.$$.fragment,s),l=!1},d(s){s&&d(e),M(t)}}}function lt(r){let e,t,l,s={ctx:r,current:null,token:null,hasCatch:!0,pending:Yt,then:Qt,catch:Ft,value:27,error:26,blocks:[,,,]};return Oe(t=r[3],s),{c(){e=ge(),s.block.c()},l(a){e=ge(),s.block.l(a)},m(a,i){q(a,e,i),s.block.m(a,s.anchor=i),s.mount=()=>e.parentNode,s.anchor=e,l=!0},p(a,i){r=a,s.ctx=r,i&8&&t!==(t=r[3])&&Oe(t,s)||dt(s,r,i)},i(a){l||(k(s.block),l=!0)},o(a){for(let i=0;i<3;i+=1){const m=s.blocks[i];b(m)}l=!1},d(a){a&&d(e),s.block.d(a),s.token=null,s=null}}}function Ft(r){let e=r[26].message+"",t;return{c(){t=x(e)},l(l){t=ee(l,e)},m(l,s){q(l,t,s)},p(l,s){s&8&&e!==(e=l[26].message+"")&&Re(t,e)},i:G,o:G,d(l){l&&d(t)}}}function Qt(r){let e,t,l,s;const a=[Kt,Jt],i=[];function m(n,c){return n[27]?0:1}return e=m(r),t=i[e]=a[e](r),{c(){t.c(),l=ge()},l(n){t.l(n),l=ge()},m(n,c){i[e].m(n,c),q(n,l,c),s=!0},p(n,c){let u=e;e=m(n),e!==u&&(Pe(),b(i[u],1,1,()=>{i[u]=null}),Ee(),t=i[e],t||(t=i[e]=a[e](n),t.c()),k(t,1),t.m(l.parentNode,l))},i(n){s||(k(t),s=!0)},o(n){b(t),s=!1},d(n){n&&d(l),i[e].d(n)}}}function Jt(r){let e;return{c(){e=x("Error")},l(t){e=ee(t,"Error")},m(t,l){q(t,e,l)},i:G,o:G,d(t){t&&d(e)}}}function Kt(r){let e,t,l,s;return l=new Y({props:{icon:Et,class:"icon"}}),{c(){e=p("div"),t=p("a"),L(l.$$.fragment),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=h(e);t=_(i,"A",{href:!0,class:!0});var m=h(t);U(l.$$.fragment,m),m.forEach(d),i.forEach(d),this.h()},h(){o(t,"href",null),o(t,"class","button"),o(e,"class","column")},m(a,i){q(a,e,i),f(e,t),H(l,t,null),s=!0},i(a){s||(k(l.$$.fragment,a),s=!0)},o(a){b(l.$$.fragment,a),s=!1},d(a){a&&d(e),M(l)}}}function Yt(r){let e,t,l,s;return l=new Y({props:{icon:ft,spin:!0,class:"icon"}}),{c(){e=p("div"),t=p("a"),L(l.$$.fragment),this.h()},l(a){e=_(a,"DIV",{class:!0});var i=h(e);t=_(i,"A",{href:!0,class:!0});var m=h(t);U(l.$$.fragment,m),m.forEach(d),i.forEach(d),this.h()},h(){o(t,"href",null),o(t,"class","button"),o(e,"class","column")},m(a,i){q(a,e,i),f(e,t),H(l,t,null),s=!0},p:G,i(a){s||(k(l.$$.fragment,a),s=!0)},o(a){b(l.$$.fragment,a),s=!1},d(a){a&&d(e),M(l)}}}function Gt(r){let e,t=r[26].message+"",l;return{c(){e=p("p"),l=x(t),this.h()},l(s){e=_(s,"P",{class:!0,style:!0});var a=h(e);l=ee(a,t),a.forEach(d),this.h()},h(){o(e,"class","list-item"),Vt(e,"color","red")},m(s,a){q(s,e,a),f(e,l)},p:G,i:G,o:G,d(s){s&&d(e)}}}function Wt(r){let e,t,l,s;const a=[Zt,Xt],i=[];function m(n,c){return n[0].playlistsTracks.tracks?0:1}return e=m(r),t=i[e]=a[e](r),{c(){t.c(),l=ge()},l(n){t.l(n),l=ge()},m(n,c){i[e].m(n,c),q(n,l,c),s=!0},p(n,c){let u=e;e=m(n),e===u?i[e].p(n,c):(Pe(),b(i[u],1,1,()=>{i[u]=null}),Ee(),t=i[e],t?t.p(n,c):(t=i[e]=a[e](n),t.c()),k(t,1),t.m(l.parentNode,l))},i(n){s||(k(t),s=!0)},o(n){b(t),s=!1},d(n){n&&d(l),i[e].d(n)}}}function Xt(r){let e,t="No tracks";return{c(){e=p("a"),e.textContent=t,this.h()},l(l){e=_(l,"A",{href:!0,class:!0,"data-svelte-h":!0}),Ve(e)!=="svelte-1ikxyl7"&&(e.textContent=t),this.h()},h(){o(e,"href",null),o(e,"class","list-item")},m(l,s){q(l,e,s)},p:G,i:G,o:G,d(l){l&&d(e)}}}function Zt(r){let e=[],t=new Map,l,s,a=Xe(r[0].playlistsTracks.tracks);const i=n=>n[6](n[23]);for(let n=0;n<a.length;n+=1){let c=tt(r,a,n),u=i(c);t.set(u,e[n]=at(u,c))}let m=null;return a.length||(m=st()),{c(){for(let n=0;n<e.length;n+=1)e[n].c();l=ge(),m&&m.c()},l(n){for(let c=0;c<e.length;c+=1)e[c].l(n);l=ge(),m&&m.l(n)},m(n,c){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(n,c);q(n,l,c),m&&m.m(n,c),s=!0},p(n,c){if(c&3377){a=Xe(n[0].playlistsTracks.tracks),Pe();for(let u=0;u<e.length;u+=1)e[u].r();e=Pt(e,c,i,1,n,a,t,l.parentNode,Dt,at,l,tt);for(let u=0;u<e.length;u+=1)e[u].a();Ee(),!a.length&&m?m.p(n,c):a.length?m&&(m.d(1),m=null):(m=st(),m.c(),m.m(l.parentNode,l))}},i(n){if(!s){for(let c=0;c<a.length;c+=1)k(e[c]);s=!0}},o(n){for(let c=0;c<e.length;c+=1)b(e[c]);s=!1},d(n){n&&d(l);for(let c=0;c<e.length;c+=1)e[c].d(n);m&&m.d(n)}}}function st(r){let e,t="loading songs";return{c(){e=p("a"),e.textContent=t,this.h()},l(l){e=_(l,"A",{href:!0,class:!0,"data-svelte-h":!0}),Ve(e)!=="svelte-111x9by"&&(e.textContent=t),this.h()},h(){o(e,"href",null),o(e,"class","list-item")},m(l,s){q(l,e,s)},p:G,d(l){l&&d(e)}}}function xt(r){let e,t;return e=new Y({props:{icon:ct,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}}),{c(){L(e.$$.fragment)},l(l){U(e.$$.fragment,l)},m(l,s){H(e,l,s),t=!0},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){b(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function el(r){let e,t;return e=new Y({props:{icon:ut,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}}),{c(){L(e.$$.fragment)},l(l){U(e.$$.fragment,l)},m(l,s){H(e,l,s),t=!0},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){b(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function at(r,e){let t,l,s,a=e[23].name+"",i,m,n,c,u,A,$,B,z,w,y,j,Z,se,I,N,F,Q,W,g,D,J,V,oe,ve,te,ue,ke=G,ie,le,fe;const be=[el,xt],ce=[];function ae(E,S){return E[5]==E[25]?0:1}A=ae(e),$=ce[A]=be[A](e),j=new Y({props:{icon:nt,class:"icon is-small"}}),N=new Y({props:{icon:Tt,class:"icon is-small"}}),g=new Y({props:{icon:ot,class:"icon is-small"}}),oe=new Y({props:{icon:it,class:"icon is-small"}});function me(...E){return e[15](e[25],...E)}function De(...E){return e[16](e[25],...E)}function Te(){return e[17](e[25])}return{key:r,first:null,c(){t=p("a"),l=p("div"),s=p("div"),i=x(a),m=O(),n=p("div"),c=p("div"),u=p("div"),$.c(),B=O(),z=p("div"),w=p("div"),y=p("a"),L(j.$$.fragment),Z=x(` 
                       Play now`),se=O(),I=p("a"),L(N.$$.fragment),F=x(` 
                       Play next`),Q=O(),W=p("a"),L(g.$$.fragment),D=x(` 
                       Add to queue`),J=O(),V=p("a"),L(oe.$$.fragment),ve=x(` 
                       Remove track`),te=O(),this.h()},l(E){t=_(E,"A",{class:!0,href:!0,draggable:!0,ondragover:!0});var S=h(t);l=_(S,"DIV",{class:!0});var X=h(l);s=_(X,"DIV",{class:!0,role:!0,tabindex:!0});var $e=h(s);i=ee($e,a),$e.forEach(d),m=R(X),n=_(X,"DIV",{class:!0});var Ae=h(n);c=_(Ae,"DIV",{class:!0});var ye=h(c);u=_(ye,"DIV",{class:!0,role:!0,tabindex:!0});var de=h(u);$.l(de),de.forEach(d),B=R(ye),z=_(ye,"DIV",{class:!0,id:!0,role:!0});var Ce=h(z);w=_(Ce,"DIV",{class:!0});var P=h(w);y=_(P,"A",{href:!0,class:!0});var K=h(y);U(j.$$.fragment,K),Z=ee(K,` 
                       Play now`),K.forEach(d),se=R(P),I=_(P,"A",{href:!0,class:!0});var v=h(I);U(N.$$.fragment,v),F=ee(v,` 
                       Play next`),v.forEach(d),Q=R(P),W=_(P,"A",{href:!0,class:!0});var T=h(W);U(g.$$.fragment,T),D=ee(T,` 
                       Add to queue`),T.forEach(d),J=R(P),V=_(P,"A",{href:!0,class:!0});var re=h(V);U(oe.$$.fragment,re),ve=ee(re,` 
                       Remove track`),re.forEach(d),P.forEach(d),Ce.forEach(d),ye.forEach(d),Ae.forEach(d),X.forEach(d),te=R(S),S.forEach(d),this.h()},h(){o(s,"class","column"),o(s,"role","button"),o(s,"tabindex","0"),o(u,"class","dropdown-trigger"),o(u,"role","button"),o(u,"tabindex","0"),o(y,"href",null),o(y,"class","dropdown-item"),o(I,"href",null),o(I,"class","dropdown-item"),o(W,"href",null),o(W,"class","dropdown-item"),o(V,"href",null),o(V,"class","dropdown-item"),o(w,"class","dropdown-content"),o(z,"class","dropdown-menu"),o(z,"id","dropdown-menu"),o(z,"role","menu"),o(c,"class","dropdown is-right is-up"),he(c,"is-active",e[5]==e[25]),o(n,"class","column is-narrow"),o(l,"class","columns is-mobile"),o(t,"class","list-item"),o(t,"href",null),o(t,"draggable",!0),o(t,"ondragover","return false"),he(t,"is-active",e[4]===e[25]),this.first=t},m(E,S){q(E,t,S),f(t,l),f(l,s),f(s,i),f(l,m),f(l,n),f(n,c),f(c,u),ce[A].m(u,null),f(c,B),f(c,z),f(z,w),f(w,y),H(j,y,null),f(y,Z),f(w,se),f(w,I),H(N,I,null),f(I,F),f(w,Q),f(w,W),H(g,W,null),f(W,D),f(w,J),f(w,V),H(oe,V,null),f(V,ve),f(t,te),ie=!0,le||(fe=[C(s,"click",function(){ne(e[11](e[25]))&&e[11](e[25]).apply(this,arguments)}),C(s,"keypress",function(){ne(e[11](e[25]))&&e[11](e[25]).apply(this,arguments)}),C(u,"click",function(){ne(e[11](e[25]))&&e[11](e[25]).apply(this,arguments)}),C(u,"keypress",function(){ne(e[11](e[25]))&&e[11](e[25]).apply(this,arguments)}),C(y,"click",function(){ne(Ze(e[23].uri))&&Ze(e[23].uri).apply(this,arguments)}),C(I,"click",function(){ne(xe(e[23].uri))&&xe(e[23].uri).apply(this,arguments)}),C(W,"click",function(){ne(et(e[23].uri))&&et(e[23].uri).apply(this,arguments)}),C(V,"click",function(){ne(e[10](e[23].uri))&&e[10](e[23].uri).apply(this,arguments)}),C(t,"dragstart",me),C(t,"drop",Nt(De)),C(t,"dragenter",Te)],le=!0)},p(E,S){e=E,(!ie||S&1)&&a!==(a=e[23].name+"")&&Re(i,a);let X=A;A=ae(e),A!==X&&(Pe(),b(ce[X],1,1,()=>{ce[X]=null}),Ee(),$=ce[A],$||($=ce[A]=be[A](e),$.c()),k($,1),$.m(u,null)),(!ie||S&33)&&he(c,"is-active",e[5]==e[25]),(!ie||S&17)&&he(t,"is-active",e[4]===e[25])},r(){ue=t.getBoundingClientRect()},f(){At(t),ke()},a(){ke(),ke=Ct(t,ue,It,{})},i(E){ie||(k($),k(j.$$.fragment,E),k(N.$$.fragment,E),k(g.$$.fragment,E),k(oe.$$.fragment,E),ie=!0)},o(E){b($),b(j.$$.fragment,E),b(N.$$.fragment,E),b(g.$$.fragment,E),b(oe.$$.fragment,E),ie=!1},d(E){E&&d(t),ce[A].d(),M(j),M(N),M(g),M(oe),le=!1,Be(fe)}}}function tl(r){let e,t,l,s;return t=new Y({props:{icon:ft,class:"icon is-24",spin:!0}}),{c(){e=p("p"),L(t.$$.fragment),l=x(`
      Loading songs ..`),this.h()},l(a){e=_(a,"P",{class:!0});var i=h(e);U(t.$$.fragment,i),l=ee(i,`
      Loading songs ..`),i.forEach(d),this.h()},h(){o(e,"class","list-item")},m(a,i){q(a,e,i),H(t,e,null),f(e,l),s=!0},p:G,i(a){s||(k(t.$$.fragment,a),s=!0)},o(a){b(t.$$.fragment,a),s=!1},d(a){a&&d(e),M(t)}}}function ll(r){let e,t,l,s,a,i=r[0].slug.replace("-"," ")+"",m,n,c,u,A,$,B,z,w,y,j,Z,se,I,N,F,Q,W,g,D,J,V,oe,ve,te,ue,ke,ie,le,fe,be,ce,ae,me,De,Te,E,S,X,$e,Ae;e=new Ht({props:{deletePlaylistConfirmation:r[1],selectedPlaylist:r[0].selectedPlaylist}}),B=new Y({props:{icon:bt,class:"icon"}}),j=new Y({props:{icon:$t,class:"icon"}});const ye=[zt,Mt],de=[];function Ce(v,T){return v[2]?0:1}F=Ce(r),Q=de[F]=ye[F](r),V=new Y({props:{icon:nt,class:"icon is-small"}}),ue=new Y({props:{icon:wt,class:"icon is-small"}}),fe=new Y({props:{icon:ot,class:"icon is-small"}}),me=new Y({props:{icon:it,class:"icon is-small"}});let P=r[3]&&lt(r),K={ctx:r,current:null,token:null,hasCatch:!0,pending:tl,then:Wt,catch:Gt,value:22,error:26,blocks:[,,,]};return Oe(r[7],K),{c(){L(e.$$.fragment),t=O(),l=p("div"),s=p("div"),a=p("h1"),m=x(i),n=O(),c=p("div"),u=p("div"),A=p("div"),$=p("a"),L(B.$$.fragment),z=O(),w=p("div"),y=p("a"),L(j.$$.fragment),Z=O(),se=p("div"),I=p("div"),N=p("div"),Q.c(),W=O(),g=p("div"),D=p("div"),J=p("a"),L(V.$$.fragment),oe=x(`  
                  Play now`),ve=O(),te=p("a"),L(ue.$$.fragment),ke=x(`  
                  Play shuffle`),ie=O(),le=p("a"),L(fe.$$.fragment),be=x(`  
                  Add to queue`),ce=O(),ae=p("a"),L(me.$$.fragment),De=x(`  
                  Delete playlist`),Te=O(),P&&P.c(),E=O(),S=p("div"),K.block.c(),this.h()},l(v){U(e.$$.fragment,v),t=R(v),l=_(v,"DIV",{class:!0});var T=h(l);s=_(T,"DIV",{class:!0});var re=h(s);a=_(re,"H1",{class:!0});var we=h(a);m=ee(we,i),we.forEach(d),re.forEach(d),n=R(T),c=_(T,"DIV",{class:!0});var Le=h(c);u=_(Le,"DIV",{class:!0});var pe=h(u);A=_(pe,"DIV",{class:!0});var Ue=h(A);$=_(Ue,"A",{class:!0,href:!0});var He=h($);U(B.$$.fragment,He),He.forEach(d),Ue.forEach(d),z=R(pe),w=_(pe,"DIV",{class:!0});var Me=h(w);y=_(Me,"A",{href:!0,class:!0});var ze=h(y);U(j.$$.fragment,ze),ze.forEach(d),Me.forEach(d),Z=R(pe),se=_(pe,"DIV",{class:!0});var Fe=h(se);I=_(Fe,"DIV",{class:!0});var Ie=h(I);N=_(Ie,"DIV",{class:!0,role:!0,tabindex:!0});var Qe=h(N);Q.l(Qe),Qe.forEach(d),W=R(Ie),g=_(Ie,"DIV",{class:!0,id:!0,role:!0});var Je=h(g);D=_(Je,"DIV",{class:!0});var _e=h(D);J=_(_e,"A",{href:!0,class:!0});var Ne=h(J);U(V.$$.fragment,Ne),oe=ee(Ne,`  
                  Play now`),Ne.forEach(d),ve=R(_e),te=_(_e,"A",{href:!0,class:!0});var Se=h(te);U(ue.$$.fragment,Se),ke=ee(Se,`  
                  Play shuffle`),Se.forEach(d),ie=R(_e),le=_(_e,"A",{href:!0,class:!0});var je=h(le);U(fe.$$.fragment,je),be=ee(je,`  
                  Add to queue`),je.forEach(d),ce=R(_e),ae=_(_e,"A",{href:!0,class:!0});var qe=h(ae);U(me.$$.fragment,qe),De=ee(qe,`  
                  Delete playlist`),qe.forEach(d),_e.forEach(d),Je.forEach(d),Ie.forEach(d),Fe.forEach(d),Te=R(pe),P&&P.l(pe),pe.forEach(d),Le.forEach(d),T.forEach(d),E=R(v),S=_(v,"DIV",{class:!0});var Ke=h(S);K.block.l(Ke),Ke.forEach(d),this.h()},h(){o(a,"class","title"),o(s,"class","column"),o($,"class","button"),o($,"href",qt+"/playlists"),o(A,"class","column"),o(y,"href",null),o(y,"class","button"),o(w,"class","column"),o(N,"class","dropdown-trigger"),o(N,"role","button"),o(N,"tabindex","0"),o(J,"href",null),o(J,"class","dropdown-item"),o(te,"href",null),o(te,"class","dropdown-item"),o(le,"href",null),o(le,"class","dropdown-item"),o(ae,"href",null),o(ae,"class","dropdown-item"),o(D,"class","dropdown-content"),o(g,"class","dropdown-menu"),o(g,"id","dropdown-menu"),o(g,"role","menu"),o(I,"class","dropdown is-right"),he(I,"is-active",r[2]),o(se,"class","column"),o(u,"class","columns is-mobile"),o(c,"class","column is-narrow"),o(l,"class","columns"),o(S,"class","list is-hoverable")},m(v,T){H(e,v,T),q(v,t,T),q(v,l,T),f(l,s),f(s,a),f(a,m),f(l,n),f(l,c),f(c,u),f(u,A),f(A,$),H(B,$,null),f(u,z),f(u,w),f(w,y),H(j,y,null),f(u,Z),f(u,se),f(se,I),f(I,N),de[F].m(N,null),f(I,W),f(I,g),f(g,D),f(D,J),H(V,J,null),f(J,oe),f(D,ve),f(D,te),H(ue,te,null),f(te,ke),f(D,ie),f(D,le),H(fe,le,null),f(le,be),f(D,ce),f(D,ae),H(me,ae,null),f(ae,De),f(u,Te),P&&P.m(u,null),q(v,E,T),q(v,S,T),K.block.m(S,K.anchor=null),K.mount=()=>S,K.anchor=null,X=!0,$e||(Ae=[C(y,"click",r[9]),C(N,"click",r[12]),C(N,"keypress",r[13]),C(J,"click",function(){ne(Ye(r[0].selectedPlaylist.uri))&&Ye(r[0].selectedPlaylist.uri).apply(this,arguments)}),C(te,"click",function(){ne(Ge(r[0].selectedPlaylist.uri))&&Ge(r[0].selectedPlaylist.uri).apply(this,arguments)}),C(le,"click",function(){ne(We(r[0].selectedPlaylist.uri))&&We(r[0].selectedPlaylist.uri).apply(this,arguments)}),C(ae,"click",r[14]),St(jt.call(null,S)),C(S,"click_outside",r[18])],$e=!0)},p(v,[T]){r=v;const re={};T&2&&(re.deletePlaylistConfirmation=r[1]),T&1&&(re.selectedPlaylist=r[0].selectedPlaylist),e.$set(re),(!X||T&1)&&i!==(i=r[0].slug.replace("-"," ")+"")&&Re(m,i);let we=F;F=Ce(r),F!==we&&(Pe(),b(de[we],1,1,()=>{de[we]=null}),Ee(),Q=de[F],Q||(Q=de[F]=ye[F](r),Q.c()),k(Q,1),Q.m(N,null)),(!X||T&4)&&he(I,"is-active",r[2]),r[3]?P?(P.p(r,T),T&8&&k(P,1)):(P=lt(r),P.c(),k(P,1),P.m(u,null)):P&&(Pe(),b(P,1,1,()=>{P=null}),Ee()),dt(K,r,T)},i(v){X||(k(e.$$.fragment,v),k(B.$$.fragment,v),k(j.$$.fragment,v),k(Q),k(V.$$.fragment,v),k(ue.$$.fragment,v),k(fe.$$.fragment,v),k(me.$$.fragment,v),k(P),k(K.block),X=!0)},o(v){b(e.$$.fragment,v),b(B.$$.fragment,v),b(j.$$.fragment,v),b(Q),b(V.$$.fragment,v),b(ue.$$.fragment,v),b(fe.$$.fragment,v),b(me.$$.fragment,v),b(P);for(let T=0;T<3;T+=1){const re=K.blocks[T];b(re)}X=!1},d(v){v&&(d(t),d(l),d(E),d(S)),M(e,v),M(B),M(j),de[F].d(),M(V),M(ue),M(fe),M(me),P&&P.d(),K.block.d(),K.token=null,K=null,$e=!1,Be(Ae)}}}function sl(r,e){r.dataTransfer.effectAllowed="move",r.dataTransfer.dropEffect="move";let t=e;r.dataTransfer.setData("text/plain",t)}function al(r,e,t){let l;ht(r,rt,g=>t(19,l=g));let{data:s}=e,a=!1,i=!1,m,n=!1,c,u;const A=g=>c?g[c]:g;let $;function B(g,D){g.dataTransfer.dropEffect="move";let J=g.dataTransfer.getData("text/plain"),V=s.playlistsTracks.tracks;V[D]=V.splice(J,1,V[D])[0],t(0,s.playlistsTracks.tracks=V,s),t(4,n=null)}async function z(){return!!await l.playlists.save({playlist:s.playlistsTracks})}function w(){t(3,m=z())}function y(g){let D=s.playlistsTracks.tracks;D=D.filter(J=>J.uri!=g),t(0,s.playlistsTracks.tracks=D,s)}const j=g=>{u===g?t(5,u=null):t(5,u=g)},Z=()=>t(2,i=!i),se=()=>t(2,i=!i),I=()=>t(1,a=!a),N=(g,D)=>sl(D,g),F=(g,D)=>B(D,g),Q=g=>t(4,n=g),W=()=>t(5,u=null);return r.$$set=g=>{"data"in g&&t(0,s=g.data)},[s,a,i,m,n,u,A,$,B,w,y,j,Z,se,I,N,F,Q,W]}class pl extends mt{constructor(e){super(),pt(this,e,al,ll,_t,{data:0})}}export{pl as component,ml as universal};
